# æ•™ç¨‹

## ç®€ä»‹

[åœ¨æ­¤æŸ¥çœ‹è¯¥åº”ç”¨ç¨‹åºçš„å®Œæˆç‰ˆæœ¬](https://stackblitz.com/edit/github-agqlf5?file=src/App.jsx)ã€‚

React Router æ˜¯ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è·¯ç”±åº“ï¼Œç”¨äº Reactï¼Œä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚React Router å¯ä»¥åœ¨ React è¿è¡Œçš„ä»»ä½•åœ°æ–¹è¿è¡Œï¼›åœ¨ç½‘ç»œä¸Šï¼Œåœ¨ node.js çš„æœåŠ¡å™¨ä¸Šï¼Œä»¥åŠåœ¨ React Native ä¸Šã€‚

å¦‚æœä½ åˆšåˆšå¼€å§‹ä½¿ç”¨ Reactï¼Œæˆ‘ä»¬å»ºè®®ä½ éµå¾ªå®˜æ–¹æ–‡æ¡£ä¸­çš„[ä¼˜ç§€å…¥é—¨æŒ‡å—](https://reactjs.org/docs/getting-started.html)ã€‚é‚£é‡Œæœ‰å¤§é‡çš„ä¿¡æ¯å¯ä»¥è®©ä½ å¯åŠ¨å’Œè¿è¡Œã€‚React Router ä¸ React >= 16.8 å…¼å®¹ã€‚

æˆ‘ä»¬å°†ä½¿è¿™ä¸ªæ•™ç¨‹å¿«é€Ÿè€Œæœ‰é’ˆå¯¹æ€§ã€‚åˆ°æœ€åï¼Œä½ ä¼šçŸ¥é“ä½ æ¯å¤©ä¸ React Router æ‰“äº¤é“çš„é‚£äº› APIã€‚ä¹‹åï¼Œä½ å¯ä»¥é’»ç ”å…¶ä»–ä¸€äº›æ–‡æ¡£ï¼Œä»¥è·å¾—æ›´æ·±å…¥çš„ç†è§£ã€‚

åœ¨å»ºç«‹ä¸€ä¸ªå°çš„è®°è´¦åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å°†æ¶µç›–ï¼š

- é…ç½®è·¯ç”±
- ä½¿ç”¨é“¾æ¥è¿›è¡Œå¯¼èˆª
- åˆ›å»ºå…·æœ‰æ´»åŠ¨æ ·å¼çš„é“¾æ¥
- ä½¿ç”¨åµŒå¥—è·¯ç”±è¿›è¡Œå¸ƒå±€
- ä»¥ç¼–ç¨‹æ–¹å¼è¿›è¡Œå¯¼èˆª
- ä½¿ç”¨ URL å‚æ•°è¿›è¡Œæ•°æ®åŠ è½½
- ä½¿ç”¨ URL æœç´¢å‚æ•°
- é€šè¿‡æ„å›¾åˆ›é€ ä½ è‡ªå·±çš„è¡Œä¸º
- æœåŠ¡å™¨æ¸²æŸ“

## å®‰è£…

### æ¨èï¼šStackBllitz

è¦åšè¿™ä¸ªæ•™ç¨‹ï¼Œä½ éœ€è¦ä¸€ä¸ªå·¥ä½œçš„ React åº”ç”¨ã€‚æˆ‘ä»¬å»ºè®®è·³è¿‡æ†ç»‘å™¨ï¼Œä½¿ç”¨ [StackBlitz ä¸Šçš„è¿™ä¸ªæ¼”ç¤º](https://stackblitz.com/github/remix-run/react-router/tree/main/tutorial?file=src/App.jsx)ï¼Œåœ¨ä½ çš„æµè§ˆå™¨ä¸­è¿›è¡Œç¼–ç ï¼š

[åœ¨ StackBlitz ä¸­æ‰“å¼€](https://stackblitz.com/github/remix-run/react-router/tree/main/tutorial?file=src/App.jsx)

å½“ä½ ç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œè¯¥æ•™ç¨‹å°†å®æ—¶æ›´æ–°ã€‚

### ä½¿ç”¨æ†ç»‘å™¨

è¯·éšæ„ä½¿ç”¨ä½ é€‰æ‹©çš„æ†ç»‘å™¨ï¼Œå¦‚ [Create React App](https://create-react-app.dev/) æˆ– [Vite](https://vitejs.dev/guide/#scaffolding-your-first-vite-project)ã€‚

```powershell
# create react app
npx create-react-app router-tutorial

# vite
npm init vite@latest router-tutorial --template react
```

ç„¶åå®‰è£… React Router ä¾èµ–é¡¹ï¼š

```powershell
cd router-tutorial
npm install react-router-dom@6
```

ç„¶åç¼–è¾‘ä½ çš„ App.jsï¼Œè®©å®ƒå˜å¾—ç›¸å½“æ— èŠï¼š

```js
export default function App() {
  return (
    <div>
      <h1>Bookkeeper!</h1>
    </div>
  )
}
```

å®é™…ä¸Šï¼Œé‚£ä¸ªâ€œï¼â€çœ‹èµ·æ¥ä¸€ç‚¹ä¹Ÿä¸æ— èŠã€‚è¿™æ˜¯å¾ˆä»¤äººå…´å¥‹çš„ã€‚æˆ‘ä»¬åœ¨ React Router v6 æµ‹è¯•ç‰ˆä¸Šåäº†ä¸€å¹´å¤šï¼Œå› ä¸ºæˆ‘ä»¬çš„ä¸šåŠ¡åœ¨å…¨çƒå¤§æµè¡Œä¹‹åè½¬å˜äº†æ–¹å‘ã€‚è¿™æ˜¯æˆ‘ä»¬è¿™æ®µæ—¶é—´ä»¥æ¥åšçš„æœ€æ¿€åŠ¨äººå¿ƒçš„äº‹æƒ…äº†!

æœ€åï¼Œå»ç¡®ä¿ `index.js` æˆ– `main.jsx`ï¼ˆå–å†³äºä½ ä½¿ç”¨çš„æ†ç»‘å™¨ï¼‰å®é™…ä¸Šæ˜¯æ— èŠçš„ï¼š

```js
import { render } from 'react-dom'
import App from './App'

const rootElement = document.getElementById('root')
render(<App />, rootElement)
```

æœ€åï¼Œå¯åŠ¨ä½ çš„åº”ç”¨ç¨‹åºï¼š

```powershell
# probably this
npm start

# or this
npm run dev
```

## è¿æ¥ URL

é¦–å…ˆï¼Œæˆ‘ä»¬è¦æŠŠä½ çš„åº”ç”¨ç¨‹åºè¿æ¥åˆ°æµè§ˆå™¨çš„ URL ä¸Šï¼šå¯¼å…¥ `BrowserRouter` å¹¶å›´ç»•ä½ çš„æ•´ä¸ªåº”ç”¨ç¨‹åºè¿›è¡Œæ¸²æŸ“ã€‚

```js
import { render } from 'react-dom'
import { BrowserRouter } from 'react-router-dom'
import App from './App'

const rootElement = document.getElementById('root')
render(
  <BrowserRouter>
    <App />
  </BrowserRouter>,
  rootElement
)
```

åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œä½†ç°åœ¨æˆ‘ä»¬å‡†å¤‡å¼€å§‹å¯¹ URL è¿›è¡Œä¿®æ”¹ã€‚

## æ·»åŠ ä¸€äº›é“¾æ¥

æ‰“å¼€ `src/App.js`ï¼Œå¯¼å…¥ `Link` å¹¶æ·»åŠ ä¸€äº›å…¨å±€å¯¼èˆªã€‚é¢˜å¤–è¯ï¼šä¸è¦æŠŠæœ¬æ•™ç¨‹ä¸­çš„æ ·å¼çœ‹å¾—å¤ªé‡ï¼Œæˆ‘ä»¬åªæ˜¯ä¸ºäº†æ–¹ä¾¿è€Œä½¿ç”¨å†…è”æ ·å¼ï¼Œä½ çš„åº”ç”¨ç¨‹åºçš„æ ·å¼å¯ä»¥éšå¿ƒæ‰€æ¬²ã€‚

```js
import { Link } from 'react-router-dom'

export default function App() {
  return (
    <div>
      <h1>Bookkeeper</h1>
      <nav
        style={{
          borderBottom: 'solid 1px',
          paddingBottom: '1rem',
        }}
      >
        <Link to='/invoices'>Invoices</Link> |{' '}
        <Link to='/expenses'>Expenses</Link>
      </nav>
    </div>
  )
}
```

ç»§ç»­ç‚¹å‡»é“¾æ¥å’Œåé€€/å‰è¿›æŒ‰é’®ï¼ˆå¦‚æœä½ ä½¿ç”¨ StackBlitzï¼Œä½ éœ€è¦ç‚¹å‡»å†…åµŒæµè§ˆå™¨å·¥å…·æ ä¸Šçš„â€œåœ¨æ–°çª—å£æ‰“å¼€â€æŒ‰é’®ï¼‰ã€‚React Router ç°åœ¨æ­£åœ¨æ§åˆ¶ URLï¼

æˆ‘ä»¬è¿˜æ²¡æœ‰ä»»ä½•è·¯ç”±åœ¨ URL æ”¹å˜æ—¶å‘ˆç°ï¼Œä½† Link åœ¨æ”¹å˜ URL æ—¶ä¸ä¼šå¯¼è‡´å…¨é¡µé¢é‡æ–°åŠ è½½ã€‚

## æ·»åŠ ä¸€äº›è·¯ç”±

æ·»åŠ å‡ ä¸ªæ–°æ–‡ä»¶ï¼š

- `src/routes/invoices.jsx`
- `src/routes/expenses.jsx`

ï¼ˆæ–‡ä»¶çš„ä½ç½®å¹¶ä¸é‡è¦ï¼Œä½†å½“ä½ å†³å®šè¦ä¸ºè¿™ä¸ªåº”ç”¨è‡ªåŠ¨æä¾›åå° APIã€æœåŠ¡å™¨æ¸²æŸ“ã€ä»£ç æ‹†åˆ†æ†ç»‘ç­‰åŠŸèƒ½æ—¶ï¼Œåƒè¿™æ ·å‘½åä½ çš„æ–‡ä»¶å¯ä»¥è®©ä½ å¾ˆå®¹æ˜“å°†è¿™ä¸ªåº”ç”¨ç§»æ¤åˆ°æˆ‘ä»¬çš„å…¶ä»–é¡¹ç›® [Remix](https://remix.run/)ğŸ˜‰ï¼‰

ç°åœ¨ç”¨ä¸€äº›ä»£ç æŠŠå®ƒä»¬å¡«æ»¡ï¼š

```js
export default function Expenses() {
  return (
    <main style={{ padding: '1rem 0' }}>
      <h2>Expenses</h2>
    </main>
  )
}
```

```js
export default function Invoices() {
  return (
    <main style={{ padding: '1rem 0' }}>
      <h2>Invoices</h2>
    </main>
  )
}
```

æœ€åï¼Œè®©æˆ‘ä»¬é€šè¿‡åœ¨ `main.jsx` æˆ– `index.js` ä¸­åˆ›å»ºç¬¬ä¸€ä¸ªâ€œRoute Configâ€æ¥æ•™ React Router å¦‚ä½•åœ¨ä¸åŒçš„ URL ä¸Šå‘ˆç°æˆ‘ä»¬çš„åº”ç”¨ã€‚

```js
import { render } from 'react-dom'
import { BrowserRouter, Routes, Route } from 'react-router-dom'
import App from './App'
import Expenses from './routes/expenses'
import Invoices from './routes/invoices'

const rootElement = document.getElementById('root')
render(
  <BrowserRouter>
    <Routes>
      <Route path='/' element={<App />} />
      <Route path='expenses' element={<Expenses />} />
      <Route path='invoices' element={<Invoices />} />
    </Routes>
  </BrowserRouter>,
  rootElement
)
```

æ³¨æ„åœ¨ `'/'` å¤„å®ƒæ¸²æŸ“ `<App>`ã€‚åœ¨ `â€œ/invoicesâ€` å¤„ï¼Œå®ƒå‘ˆç° `<Invoices>`ã€‚å¹²å¾—å¥½!

> å¦‚æœä½ ä½¿ç”¨ StackBlitzï¼Œè®°å¾—ç‚¹å‡»å†…è”æµè§ˆå™¨å·¥å…·æ ä¸­çš„â€œåœ¨æ–°çª—å£æ‰“å¼€â€æŒ‰é’®ï¼Œä»¥ä¾¿èƒ½å¤Ÿç‚¹å‡»æµè§ˆå™¨ä¸­çš„åé€€/å‰è¿›æŒ‰é’®ã€‚

## åµŒå¥—è·¯ç”±

ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°å½“ç‚¹å‡»é“¾æ¥æ—¶ï¼Œ`App` ä¸­çš„å¸ƒå±€æ¶ˆå¤±äº†ã€‚é‡å¤å…±äº«å¸ƒå±€æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ã€‚æˆ‘ä»¬å·²ç»äº†è§£åˆ°ï¼Œå¤§å¤šæ•° UI æ˜¯ä¸€ç³»åˆ—åµŒå¥—çš„å¸ƒå±€ï¼Œå‡ ä¹æ€»æ˜¯æ˜ å°„åˆ° URL çš„ç‰‡æ®µï¼Œæ‰€ä»¥è¿™ä¸ªæƒ³æ³•è¢«ç›´æ¥æ¤å…¥äº† React Routerã€‚

è®©æˆ‘ä»¬é€šè¿‡åšä¸¤ä»¶äº‹æ¥è·å¾—ä¸€äº›è‡ªåŠ¨ã€æŒä¹…çš„å¸ƒå±€å¤„ç†ï¼š

1. åµŒå¥—åœ¨ App è·¯ç”±ä¸­çš„è·¯ç”±
1. æ¸²æŸ“ä¸€ä¸ªå‡ºå£

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¯¹è·¯ç”±è¿›è¡ŒåµŒå¥—ã€‚ç°åœ¨ï¼Œè´¹ç”¨å’Œå‘ç¥¨è·¯ç”±æ˜¯åº”ç”¨ç¨‹åºçš„å…„å¼Ÿå§å¦¹ï¼Œæˆ‘ä»¬æƒ³è®©å®ƒä»¬æˆä¸ºåº”ç”¨ç¨‹åºè·¯ç”±çš„*å­å¥³*ï¼š

```js
import { render } from 'react-dom'
import { BrowserRouter, Routes, Route } from 'react-router-dom'
import App from './App'
import Expenses from './routes/expenses'
import Invoices from './routes/invoices'

const rootElement = document.getElementById('root')
render(
  <BrowserRouter>
    <Routes>
      <Route path='/' element={<App />}>
        <Route path='expenses' element={<Expenses />} />
        <Route path='invoices' element={<Invoices />} />
      </Route>
    </Routes>
  </BrowserRouter>,
  rootElement
)
```

å½“è·¯ç”±ä¸Šæœ‰äº†å­©å­ï¼Œå°±ä¼šæœ‰ä¸¤ä»¶äº‹ï¼š

1. å®ƒåµŒå¥—äº† URLsï¼ˆ`"/"+"expenses"` å’Œ `"/"+"invoices"`ï¼‰ã€‚
1. å½“å­è·¯çº¿åŒ¹é…æ—¶ï¼Œå®ƒå°†ä¸ºå…±äº«å¸ƒå±€åµŒå¥— UI ç»„ä»¶ï¼š

ç„¶è€Œï¼Œåœ¨ï¼ˆ2ï¼‰å·¥ä½œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ `App.jsx` çš„â€œçˆ¶â€è·¯ç”±ä¸­æ¸²æŸ“ä¸€ä¸ª `Outlet`ã€‚

```js
import { Outlet, Link } from 'react-router-dom'

export default function App() {
  return (
    <div>
      <h1>Bookkeeper</h1>
      <nav
        style={{
          borderBottom: 'solid 1px',
          paddingBottom: '1rem',
        }}
      >
        <Link to='/invoices'>Invoices</Link> |{' '}
        <Link to='/expenses'>Expenses</Link>
      </nav>
      <Outlet />
    </div>
  )
}
```

ç°åœ¨å†ç‚¹å‡»ä¸€ä¸‹ã€‚çˆ¶è·¯ç”±ï¼ˆ`App.js`ï¼‰æŒç»­å­˜åœ¨ï¼Œè€Œ `<Outlet>` åœ¨ä¸¤ä¸ªå­è·¯ç”±ï¼ˆ`<Invoices>` å’Œ `<Expenses>`ï¼‰ä¹‹é—´äº¤æ¢ï¼

æ­£å¦‚æˆ‘ä»¬ç¨åå°†çœ‹åˆ°çš„ï¼Œè¿™åœ¨è·¯ç”±å±‚æ¬¡ç»“æ„çš„ä»»ä½•ä¸€çº§éƒ½èƒ½å‘æŒ¥ä½œç”¨ï¼Œè€Œä¸”éå¸¸å¼ºå¤§ã€‚

## åˆ—å‡ºå‘ç¥¨

é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ ä¼šä»æŸä¸ªæœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼Œä½†åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œè®©æˆ‘ä»¬ç¡¬ç¼–ç ä¸€äº›å‡çš„ä¸œè¥¿ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸“æ³¨äºè·¯ç”±ã€‚

åœ¨ `src/data.js` ä¸­å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†æ­¤å¤åˆ¶/ç²˜è´´åˆ°å…¶ä¸­ã€‚

```js
let invoices = [
  {
    name: 'Santa Monica',
    number: 1995,
    amount: '$10,800',
    due: '12/05/1995',
  },
  {
    name: 'Stankonia',
    number: 2000,
    amount: '$8,000',
    due: '10/31/2000',
  },
  {
    name: 'Ocean Avenue',
    number: 2003,
    amount: '$9,500',
    due: '07/22/2003',
  },
  {
    name: 'Tubthumper',
    number: 1997,
    amount: '$14,000',
    due: '09/01/1997',
  },
  {
    name: 'Wide Open Spaces',
    number: 1998,
    amount: '$4,600',
    due: '01/27/1998',
  },
]

export function getInvoices() {
  return invoices
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨å‘ç¥¨è·¯ç”±ä¸­ä½¿ç”¨å®ƒã€‚è®©æˆ‘ä»¬ä¹Ÿæ·»åŠ ä¸€ç‚¹æ ·å¼ï¼Œè®©ä¾§è¾¹æ çš„å¯¼èˆªå¸ƒå±€ç»§ç»­è¿›è¡Œã€‚è¯·éšæ„å¤åˆ¶/ç²˜è´´æ‰€æœ‰è¿™äº›ï¼Œä½†è¦ç‰¹åˆ«æ³¨æ„ `<Link>` å…ƒç´ çš„ `to` å‚æ•°ï¼š

```js
import { Link } from 'react-router-dom'
import { getInvoices } from '../data'

export default function Invoices() {
  let invoices = getInvoices()
  return (
    <div style={{ display: 'flex' }}>
      <nav
        style={{
          borderRight: 'solid 1px',
          padding: '1rem',
        }}
      >
        {invoices.map(invoice => (
          <Link
            style={{ display: 'block', margin: '1rem 0' }}
            to={`/invoices/${invoice.number}`}
            key={invoice.number}
          >
            {invoice.name}
          </Link>
        ))}
      </nav>
    </div>
  )
}
```

å¾ˆå¥½!ç°åœ¨ç‚¹å‡»ä¸€ä¸ªå‘ç¥¨é“¾æ¥ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

ğŸ˜¨ğŸ˜¨ğŸ˜¨

## æ·»åŠ ä¸€ä¸ªâ€œä¸åŒ¹é…â€è·¯ç”±

è¿™å¹¶ä¸åƒä½ å¯èƒ½é¢„æœŸçš„é‚£æ ·ã€‚å¦‚æœä½ ç‚¹å‡»è¿™äº›é“¾æ¥ï¼Œé¡µé¢å°±ä¼šå˜æˆç©ºç™½!è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„è·¯ç”±ä¸­æ²¡æœ‰ä¸€ä¸ªä¸æˆ‘ä»¬æ‰€é“¾æ¥çš„ URL ç›¸åŒ¹é…ï¼š`"/invoices/123"`ã€‚

åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œå¥½çš„åšæ³•æ˜¯æ€»æ˜¯å¤„ç†è¿™ç§â€œä¸åŒ¹é…â€çš„æƒ…å†µã€‚å›åˆ°ä½ çš„è·¯ç”±é…ç½®ä¸­å»ï¼Œæ·»åŠ è¿™ä¸ªï¼š

```js
<Routes>
  <Route path='/' element={<App />}>
    <Route path='expenses' element={<Expenses />} />
    <Route path='invoices' element={<Invoices />} />
    <Route
      path='*'
      element={
        <main style={{ padding: '1rem' }}>
          <p>There's nothing here!</p>
        </main>
      }
    />
  </Route>
</Routes>
```

è¿™é‡Œçš„ `'*'` æœ‰ç‰¹æ®Šå«ä¹‰ã€‚å®ƒåªæœ‰åœ¨æ²¡æœ‰å…¶ä»–è·¯çº¿çš„æƒ…å†µä¸‹æ‰ä¼šåŒ¹é…ã€‚

## è¯»å– URL å‚æ•°

å¥½äº†ï¼Œå›åˆ°å•ä¸ªå‘ç¥¨çš„ URL ä¸Šã€‚è®©æˆ‘ä»¬ä¸ºä¸€å¼ ç‰¹å®šçš„å‘ç¥¨æ·»åŠ ä¸€ä¸ªè·¯ç”±ã€‚æˆ‘ä»¬åˆšåˆšè®¿é—®äº†ä¸€äº› URLï¼Œæ¯”å¦‚ `"/invoices/1998"` å’Œ `"/invoices/2005"`ï¼Œè®©æˆ‘ä»¬åœ¨ `src/routes/invoice.jsx` ä¸Šåšä¸€ä¸ªæ–°çš„ç»„ä»¶æ¥æ¸²æŸ“è¿™äº› URLã€‚

```js
export default function Invoice() {
  return <h2>Invoice #???</h2>
}
```

æˆ‘ä»¬æƒ³å‘ˆç°å‘ç¥¨å·ç ï¼Œè€Œä¸æ˜¯ `â€œ???â€`ã€‚é€šå¸¸åœ¨ React ä¸­ï¼Œä½ ä¼šæŠŠå®ƒä½œä¸ºä¸€ä¸ªé“å…·ä¼ é€’ã€‚`<Invoice invoiceId='123' />`ï¼Œä½†ä½ ä¸èƒ½æ§åˆ¶è¿™ä¸ªä¿¡æ¯ï¼Œå› ä¸ºå®ƒæ¥è‡ª URLã€‚

è®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè·¯ç”±ï¼Œä»¥åŒ¹é…è¿™äº›ç±»å‹çš„ URLï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä»ä¸­è·å¾—å‘ç¥¨å·ç ã€‚

åœ¨ "å‘ç¥¨ "è·¯ç”±ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ `<Route>`ï¼Œåƒè¿™æ ·ï¼š

```js
<Routes>
  <Route path='/' element={<App />}>
    <Route path='expenses' element={<Expenses />} />
    <Route path='invoices' element={<Invoices />}>
      <Route path=':invoiceId' element={<Invoice />} />
    </Route>
    <Route
      path='*'
      element={
        <main style={{ padding: '1rem' }}>
          <p>There's nothing here!</p>
        </main>
      }
    />
  </Route>
</Routes>
```

æœ‰å‡ ä»¶äº‹éœ€è¦æ³¨æ„ï¼š

- æˆ‘ä»¬åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±ï¼Œå¯ä»¥åŒ¹é…â€œ/invoices/2005â€å’Œâ€œ/invoices/1998â€è¿™æ ·çš„ urlã€‚è·¯ç”±çš„ `:invoiceId` éƒ¨åˆ†æ˜¯ä¸€ä¸ªâ€œURL å‚æ•°â€ï¼Œæ„å‘³ç€åªè¦æ¨¡å¼ç›¸åŒï¼Œå®ƒå¯ä»¥åŒ¹é…ä»»ä½•å€¼ã€‚
- `<Route>` åœ¨åŒ¹é…æ—¶å¢åŠ äº†ç¬¬äºŒå±‚è·¯ç”±åµŒå¥—ï¼š`<App><Invoices><Invoice /></Invoices></App>`ã€‚å› ä¸º `<Route>` æ˜¯åµŒå¥—çš„ï¼Œæ‰€ä»¥ç”¨æˆ·ç•Œé¢ä¹Ÿä¼šè¢«åµŒå¥—ã€‚

å¥½äº†ï¼Œç°åœ¨å»ç‚¹å‡»ä¸€å¼ å‘ç¥¨çš„é“¾æ¥ï¼Œæ³¨æ„ï¼Œç½‘å€å˜äº†ï¼Œä½†æ–°çš„å‘ç¥¨ç»„ä»¶è¿˜æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ã€‚ä½ çŸ¥é“ä¸ºä»€ä¹ˆå—ï¼Ÿ

è¿™å°±å¯¹äº†!æˆ‘ä»¬éœ€è¦åœ¨çˆ¶çº§å¸ƒå±€è·¯çº¿ä¸Šå¢åŠ ä¸€ä¸ªå‡ºå£ï¼ˆæˆ‘ä»¬çœŸçš„ä¸ºä½ æ„Ÿåˆ°éª„å‚²ï¼‰ã€‚

```js
import { Link, Outlet } from 'react-router-dom'
import { getInvoices } from '../data'

export default function Invoices() {
  let invoices = getInvoices()
  return (
    <div style={{ display: 'flex' }}>
      <nav
        style={{
          borderRight: 'solid 1px',
          padding: '1rem',
        }}
      >
        {invoices.map(invoice => (
          <Link
            style={{ display: 'block', margin: '1rem 0' }}
            to={`/invoices/${invoice.number}`}
            key={invoice.number}
          >
            {invoice.name}
          </Link>
        ))}
      </nav>
      <Outlet />
    </div>
  )
}
```

å¥½çš„ï¼Œè®©æˆ‘ä»¬åœ¨è¿™é‡Œç»“æŸè¿™ä¸ªåœˆå­ã€‚å†æ¬¡æ‰“å¼€å‘ç¥¨ç»„ä»¶ï¼Œè®©æˆ‘ä»¬ä» URL ä¸­è·å– `:invoiceId` å‚æ•°ï¼š

```js
import { useParams } from 'react-router-dom'

export default function Invoice() {
  let params = useParams()
  return <h2>Invoice: {params.invoiceId}</h2>
}
```

æ³¨æ„ï¼Œ`params` å¯¹è±¡ä¸Šçš„å‚æ•°çš„é”®ä¸è·¯ç”±è·¯å¾„ä¸­çš„åŠ¨æ€æ®µç›¸åŒï¼š

`:invoiceId -> params.invoiceId`

è®©æˆ‘ä»¬ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥å»ºç«‹ä¸€ä¸ªæ›´æœ‰è¶£çš„å‘ç¥¨é¡µé¢ã€‚æ‰“å¼€ `src/data.js`ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ŒæŒ‰å‘ç¥¨å·ç æŸ¥è¯¢å‘ç¥¨ï¼š

```js
// ...

export function getInvoices() {
  return invoices
}

export function getInvoice(number) {
  return invoices.find(invoice => invoice.number === number)
}
```

ç°åœ¨å›åˆ° `invoice.jsx` ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‚æ•°æ¥æŸ¥æ‰¾å‘ç¥¨å¹¶æ˜¾ç¤ºæ›´å¤šä¿¡æ¯ï¼š

```js
import { useParams } from 'react-router-dom'
import { getInvoice } from '../data'

export default function Invoice() {
  let params = useParams()
  let invoice = getInvoice(parseInt(params.invoiceId, 10))
  return (
    <main style={{ padding: '1rem' }}>
      <h2>Total Due: {invoice.amount}</h2>
      <p>
        {invoice.name}: {invoice.number}
      </p>
      <p>Due Date: {invoice.due}</p>
    </main>
  )
}
```

æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨å‚æ•°å‘¨å›´ä½¿ç”¨äº† `parseInt`ã€‚ä½ çš„æ•°æ®æŸ¥è¯¢ä½¿ç”¨æ•°å­—ç±»å‹æ˜¯å¾ˆå¸¸è§çš„ï¼Œä½† URL å‚æ•°æ€»æ˜¯å­—ç¬¦ä¸²ã€‚

## ç´¢å¼•è·¯ç”±

ç´¢å¼•è·¯ç”±å¯èƒ½æ˜¯ React Router ä¸­æœ€éš¾è®©äººç†è§£çš„æ¦‚å¿µã€‚å› æ­¤ï¼Œå¦‚æœä½ ä»¥å‰æœ‰è¿‡æŒ£æ‰ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™èƒ½ä¸ºä½ æ¾„æ¸…ã€‚

ç°åœ¨ä½ å¯èƒ½æ­£åœ¨çœ‹å…¶ä¸­ä¸€å¼ å‘ç¥¨ã€‚ç‚¹å‡»ä½ çš„åº”ç”¨ç¨‹åºçš„å…¨å±€å¯¼èˆªä¸­çš„â€œå‘ç¥¨â€é“¾æ¥ã€‚æ³¨æ„åˆ°ä¸»å†…å®¹åŒºæ˜¯ç©ºç™½çš„ï¼æˆ‘ä»¬å¯ä»¥ç”¨â€œç´¢å¼•â€è·¯çº¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªâ€œç´¢å¼•â€è·¯çº¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

```js
<Routes>
  <Route path='/' element={<App />}>
    <Route path='expenses' element={<Expenses />} />
    <Route path='invoices' element={<Invoices />}>
      <Route
        index
        element={
          <main style={{ padding: '1rem' }}>
            <p>Select an invoice</p>
          </main>
        }
      />
      <Route path=':invoiceId' element={<Invoice />} />
    </Route>
    <Route
      path='*'
      element={
        <main style={{ padding: '1rem' }}>
          <p>There's nothing here!</p>
        </main>
      }
    />
  </Route>
</Routes>
```

çœŸå¥½!ç°åœ¨ï¼Œç´¢å¼•è·¯ç”±å¡«è¡¥äº†ç©ºçš„ç©ºé—´!

æ³¨æ„å®ƒæœ‰ `index` é“å…·ï¼Œè€Œä¸æ˜¯ `path`ã€‚è¿™æ˜¯å› ä¸ºç´¢å¼•è·¯ç”±ä¸çˆ¶è·¯ç”±çš„è·¯å¾„ç›¸åŒã€‚è¿™å°±æ˜¯é—®é¢˜çš„å…³é”®â€”â€”å®ƒæ²¡æœ‰è·¯å¾„ã€‚

ä¹Ÿè®¸ä½ è¿˜åœ¨æŒ å¤´ã€‚æˆ‘ä»¬æœ‰å‡ ç§æ–¹æ³•æ¥å›ç­”â€œä»€ä¹ˆæ˜¯ç´¢å¼•é€”å¾„ï¼Ÿâ€çš„é—®é¢˜ã€‚å¸Œæœ›å…¶ä¸­æœ‰ä¸€ç§èƒ½è®©ä½ åšæŒä¸‹å»ï¼š

- ç´¢å¼•è·¯ç”±åœ¨çˆ¶è·¯ç”±è·¯å¾„å¤„çš„çˆ¶è·¯ç”±å‡ºå£æ¸²æŸ“ã€‚
- å½“çˆ¶è·¯ç”±åŒ¹é…ä½†å…¶ä»–å­è·¯ç”±éƒ½ä¸åŒ¹é…æ—¶ï¼Œç´¢å¼•è·¯ç”±å°±ä¼šåŒ¹é…ã€‚
- ç´¢å¼•è·¯ç”±æ˜¯ä¸€ä¸ªçˆ¶è·¯ç”±çš„é»˜è®¤å­è·¯ç”±ã€‚
- å½“ç”¨æˆ·è¿˜æ²¡æœ‰ç‚¹å‡»å¯¼èˆªåˆ—è¡¨ä¸­çš„æŸä¸ªé¡¹ç›®æ—¶ï¼Œç´¢å¼•è·¯ç”±ä¼šå‘ˆç°ã€‚

## æ´»åŠ¨é“¾æ¥

è¿™æ˜¯å¾ˆå¸¸è§çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨å¯¼èˆªåˆ—è¡¨ä¸­ï¼Œå°†é“¾æ¥æ˜¾ç¤ºä¸ºç”¨æˆ·æ­£åœ¨çœ‹çš„æ´»åŠ¨é“¾æ¥ã€‚è®©æˆ‘ä»¬æŠŠè¿™ç§å¤„ç†æ–¹æ³•æ·»åŠ åˆ°æˆ‘ä»¬çš„å‘ç¥¨åˆ—è¡¨ä¸­ï¼ŒæŠŠ `Link` æ¢æˆ `NavLink`ã€‚

```js
import { NavLink, Outlet } from 'react-router-dom'
import { getInvoices } from '../data'

export default function Invoices() {
  let invoices = getInvoices()
  return (
    <div style={{ display: 'flex' }}>
      <nav
        style={{
          borderRight: 'solid 1px',
          padding: '1rem',
        }}
      >
        {invoices.map(invoice => (
          <NavLink
            style={({ isActive }) => {
              return {
                display: 'block',
                margin: '1rem 0',
                color: isActive ? 'red' : '',
              }
            }}
            to={`/invoices/${invoice.number}`}
            key={invoice.number}
          >
            {invoice.name}
          </NavLink>
        ))}
      </nav>
      <Outlet />
    </div>
  )
}
```

æˆ‘ä»¬åœ¨é‚£é‡Œåšäº†ä¸‰ä»¶äº‹ï¼š

1. æˆ‘ä»¬æŠŠ`Link`æ¢æˆäº†`NavLink`ã€‚
1. æˆ‘ä»¬æŠŠ `style` ä»ä¸€ä¸ªç®€å•çš„å¯¹è±¡æ”¹ä¸ºä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•°ã€‚
1. æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ `NavLink` ä¼ é€’ç»™æˆ‘ä»¬çš„é€ å‹å‡½æ•°çš„ `isActive` å€¼æ¥æ”¹å˜æˆ‘ä»¬é“¾æ¥çš„é¢œè‰²ã€‚

ä½ å¯ä»¥ç”¨`className`åœ¨`NavLink`ä¸ŠåšåŒæ ·çš„äº‹æƒ…ï¼š

```js
// normal string
<NavLink className="red" />

// function
<NavLink className={({ isActive }) => isActive ? "red" : "blue"} />
```

## æœç´¢å‚æ•°

æœç´¢å‚æ•°ä¸ URL å‚æ•°ä¸€æ ·ï¼Œä½†å®ƒä»¬åœ¨ URL ä¸­çš„ä½ç½®ä¸åŒã€‚å®ƒä»¬ä¸æ˜¯åœ¨ç”± `/` åˆ†éš”çš„æ­£å¸¸ URL æ®µä¸­ï¼Œè€Œæ˜¯åœ¨ `?` ä¹‹åçš„æœ«ç«¯ã€‚ä½ å·²ç»åœ¨ç½‘ä¸Šçœ‹åˆ°äº†å®ƒä»¬ï¼Œå¦‚ `"/login?success=1"` æˆ– `"/shoes?brand=nike&sort=asc&sortby=price"`ã€‚

React Router é€šè¿‡ `useSearchParams` ä½¿è¯»å–å’Œæ“ä½œæœç´¢å‚æ•°å˜å¾—å®¹æ˜“ã€‚å®ƒçš„å·¥ä½œåŸç†å¾ˆåƒ `React.useState()`ï¼Œä½†åœ¨ URL æœç´¢å‚æ•°ä¸­å­˜å‚¨å’Œè®¾ç½®çŠ¶æ€ï¼Œè€Œä¸æ˜¯åœ¨å†…å­˜ä¸­ã€‚

è®©æˆ‘ä»¬é€šè¿‡åœ¨å‘ç¥¨å¯¼èˆªåˆ—è¡¨ä¸Šæ·»åŠ ä¸€ä¸ªå°è¿‡æ»¤å™¨æ¥çœ‹çœ‹å®ƒçš„ä½œç”¨ã€‚

```js
import { NavLink, Outlet, useSearchParams } from 'react-router-dom'
import { getInvoices } from '../data'

export default function Invoices() {
  let invoices = getInvoices()
  let [searchParams, setSearchParams] = useSearchParams()

  return (
    <div style={{ display: 'flex' }}>
      <nav
        style={{
          borderRight: 'solid 1px',
          padding: '1rem',
        }}
      >
        <input
          value={searchParams.get('filter') || ''}
          onChange={event => {
            let filter = event.target.value
            if (filter) {
              setSearchParams({ filter })
            } else {
              setSearchParams({})
            }
          }}
        />
        {invoices
          .filter(invoice => {
            let filter = searchParams.get('filter')
            if (!filter) return true
            let name = invoice.name.toLowerCase()
            return name.startsWith(filter.toLowerCase())
          })
          .map(invoice => (
            <NavLink
              style={({ isActive }) => ({
                display: 'block',
                margin: '1rem 0',
                color: isActive ? 'red' : '',
              })}
              to={`/invoices/${invoice.number}`}
              key={invoice.number}
            >
              {invoice.name}
            </NavLink>
          ))}
      </nav>
      <Outlet />
    </div>
  )
}
```

çœ‹çœ‹è¿™ä¸ªï¼Œç”¨æˆ·æ‰“å­—æ—¶ï¼š

- `setSearchParams()` æ˜¯æŠŠ `?filter=...` æœç´¢å‚æ•°æ”¾åœ¨ URL ä¸­ï¼Œç„¶åé‡æ–°æ¸²æŸ“è·¯ç”±å™¨ã€‚
- `useSearchParams` ç°åœ¨è¿”å›ä¸€ä¸ª [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)ï¼Œå…¶ä¸­æœ‰ `"filter"` ä½œä¸ºå…¶å€¼ã€‚
- æˆ‘ä»¬å°†è¾“å…¥çš„å€¼è®¾ç½®ä¸ºè¿‡æ»¤å™¨æœç´¢å‚æ•°ä¸­çš„ä»»ä½•å†…å®¹ï¼ˆå®ƒå°±åƒ `useState`ï¼Œä½†åœ¨ URLSearchParams ä¸­ä»£æ›¿ï¼ï¼‰ã€‚
- æˆ‘ä»¬æ ¹æ®è¿‡æ»¤æœç´¢å‚æ•°æ¥è¿‡æ»¤æˆ‘ä»¬çš„å‘ç¥¨åˆ—è¡¨ã€‚

## è‡ªå®šä¹‰è¡Œä¸º

å¦‚æœä½ è¿‡æ»¤äº†åˆ—è¡¨ï¼Œç„¶åç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œä½ ä¼šå‘ç°åˆ—è¡¨ä¸å†è¢«è¿‡æ»¤ï¼Œæœç´¢å‚æ•°ä» `<input>` å’Œ URL ä¸­è¢«æ¸…é™¤ã€‚ä½ å¯èƒ½æƒ³è¦è¿™æ ·ï¼Œä¹Ÿå¯èƒ½ä¸æƒ³è¦!ä¹Ÿè®¸ä½ æƒ³ä¿æŒåˆ—è¡¨è¢«è¿‡æ»¤ï¼Œå¹¶åœ¨ URL ä¸­ä¿ç•™å‚æ•°ã€‚

å½“æˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å…¶æ·»åŠ åˆ°é“¾æ¥çš„ href ä¸­æ¥ä¿æŒæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å°†é€šè¿‡æŠŠ React Router ä¸­çš„ `NavLink` å’Œ `useLocation` ç»„åˆæˆæˆ‘ä»¬è‡ªå·±çš„ `QueryNavLink`ï¼ˆä¹Ÿè®¸æœ‰æ›´å¥½çš„åå­—ï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦ç”¨çš„ï¼‰æ¥å®ç°ã€‚

```js
import { useLocation, NavLink } from 'react-router-dom'

function QueryNavLink({ to, ...props }) {
  let location = useLocation()
  return <NavLink to={to + location.search} {...props} />
}
```

ä½ å¯ä»¥æŠŠè¿™æ®µä»£ç æ”¾åœ¨ä½ åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹ï¼Œç„¶åæŠŠ `src/routes/invoices.jsx` ä¸­çš„ `NavLink` æ›¿æ¢ä¸º `QueryNavLink`ï¼Œä½ å°±å®Œæˆäº†ã€‚

åƒ `useSearchParams` ä¸€æ ·ï¼Œ`useLocation` è¿”å›ä¸€ä¸ªä½ç½®ï¼Œå‘Šè¯‰æˆ‘ä»¬å…³äº URL çš„ä¿¡æ¯ã€‚ä¸€ä¸ªä½ç½®çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```js
{
  pathname: "/invoices",
  search: "?filter=sa",
  hash: "",
  state: null,
  key: "ae4cz2j"
}
```

æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œ`QueryNavLink` çš„ä»»åŠ¡å°±éå¸¸ç®€å•äº†ï¼šæŠŠ `location.search` æ·»åŠ åˆ° `to` é“å…·ä¸Šã€‚ä½ å¯èƒ½ä¼šæƒ³ï¼Œ"å¤©å•Šï¼Œè¿™ä¼¼ä¹åº”è¯¥æ˜¯ React Router çš„ä¸€ä¸ªå†…ç½®ç»„ä»¶æˆ–ä»€ä¹ˆï¼Ÿ"ã€‚å¥½å§ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ä¸ªä¾‹å­ã€‚

å¦‚æœä½ åœ¨ä¸€ä¸ªç”µå­å•†åŠ¡ç½‘ç«™ä¸Šæœ‰è¿™æ ·çš„é“¾æ¥ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ã€‚

```js
<Link to="/shoes?brand=nike">Nike</Link>
<Link to="/shoes?brand=vans">Vans</Link>
```

ç„¶åä½ æƒ³åœ¨ url æœç´¢å‚æ•°ä¸å“ç‰Œç›¸åŒ¹é…æ—¶å°†å…¶æ ·å¼ä¸º "æ´»åŠ¨"ï¼Ÿä½ å¯ä»¥ç”¨ä½ åœ¨æœ¬æ•™ç¨‹ä¸­å­¦åˆ°çš„ä¸œè¥¿å¿«é€Ÿåˆ¶ä½œä¸€ä¸ªç»„ä»¶æ¥å®ç°è¿™ä¸ªç›®çš„ï¼š

```js
function BrandLink({ brand, ...props }) {
  let [params] = useSearchParams()
  let isActive = params.getAll('brand').includes(brand)
  return (
    <Link
      style={{ color: isActive ? 'red' : '' }}
      to={`/shoes?brand=${brand}`}
      {...props}
    />
  )
}
```

è¿™å°†å¯¹ `"/shoes?brand=nike"` ä»¥åŠ `"/shoes?brand=nike&brand=vans"` èµ·ä½œç”¨ã€‚ä¹Ÿè®¸ä½ æƒ³è®©å®ƒåœ¨åªæœ‰ä¸€ä¸ªå“ç‰Œè¢«é€‰ä¸­æ—¶å¤„äºæ¿€æ´»çŠ¶æ€ï¼š

```js
let brands = params.getAll('brand')
let isActive = brands.includes(brand) && brands.length === 1
// ...
```

æˆ–è€…ä½ å¸Œæœ›è¿™äº›é“¾æ¥æ˜¯åŠ æ³•çš„ï¼ˆç‚¹å‡» Nikeï¼Œç„¶åç‚¹å‡» Vansï¼Œå°†ä¸¤ä¸ªå“ç‰Œéƒ½åŠ å…¥åˆ°æœç´¢å‚æ•°ä¸­ï¼‰ï¼Œè€Œä¸æ˜¯æ›¿æ¢å“ç‰Œï¼š

```js
function BrandLink({ brand, ...props }) {
  let [params] = useSearchParams()
  let isActive = params.getAll('brand').includes(brand)
  if (!isActive) {
    params.append('brand', brand)
  }
  return (
    <Link
      style={{ color: isActive ? 'red' : '' }}
      to={`/shoes?${params.toString()}`}
      {...props}
    />
  )
}
```

æˆ–è€…ä½ æƒ³è®©å®ƒæ·»åŠ å“ç‰Œï¼Œå¦‚æœå®ƒä¸åœ¨é‚£é‡Œï¼Œå¦‚æœå®ƒè¢«å†æ¬¡ç‚¹å‡»ï¼Œå°±æŠŠå®ƒç§»èµ°ï¼è¿™æ˜¯å¾ˆé‡è¦çš„ã€‚

```js
function BrandLink({ brand, ...props }) {
  let [params] = useSearchParams()
  let isActive = params.getAll('brand').includes(brand)
  if (!isActive) {
    params.append('brand', brand)
  } else {
    params = new URLSearchParams(
      Array.from(params).filter(
        ([key, value]) => key !== 'brand' || value !== brand
      )
    )
  }
  return (
    <Link
      style={{ color: isActive ? 'red' : '' }}
      to={`/shoes?${params.toString()}`}
      {...props}
    />
  )
}
```

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå³ä½¿åœ¨è¿™ä¸ªç›¸å½“ç®€å•çš„ä¾‹å­ä¸­ï¼Œä¹Ÿæœ‰å¾ˆå¤šä½ å¯èƒ½æƒ³è¦çš„æœ‰æ•ˆè¡Œä¸ºã€‚React Router å¹¶ä¸è¯•å›¾ç›´æ¥è§£å†³æˆ‘ä»¬æ›¾ç»å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªç”¨ä¾‹ã€‚ç›¸åï¼Œæˆ‘ä»¬ç»™ä½ æä¾›ç»„ä»¶å’Œé’©å­æ¥ç»„æˆä½ éœ€è¦çš„ä»»ä½•è¡Œä¸ºã€‚

## ç¨‹åºåŒ–å¯¼èˆª

å¥½äº†ï¼Œå›åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚åšæŒä½ï¼Œä½ å°±å¿«å®Œæˆäº†!

å¤§å¤šæ•°æ—¶å€™ï¼ŒURL çš„æ”¹å˜æ˜¯ä¸ºäº†å“åº”ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ã€‚ä½†æœ‰æ—¶ä½ ï¼Œç¨‹åºå‘˜ï¼Œæƒ³æ”¹å˜ URLã€‚ä¸€ä¸ªéå¸¸å¸¸è§çš„ç”¨ä¾‹æ˜¯åœ¨æ•°æ®æ›´æ–°åï¼Œå¦‚åˆ›å»ºæˆ–åˆ é™¤ä¸€æ¡è®°å½•ã€‚

è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå°†å‘ç¥¨æ ‡è®°ä¸ºå·²ä»˜æ¬¾ï¼Œç„¶åå¯¼èˆªåˆ°ç´¢å¼•è·¯ç”±ã€‚

é¦–å…ˆä½ å¯ä»¥å¤åˆ¶å’Œç²˜è´´è¿™ä¸ªå‡½æ•°ï¼Œä»æˆ‘ä»¬çš„å‡æ•°æ®å­˜å‚¨ä¸­åˆ é™¤ä¸€å¼ å‘ç¥¨ã€‚

```js
export function deleteInvoice(number) {
  invoices = invoices.filter(invoice => invoice.number !== number)
}
```

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ åˆ é™¤æŒ‰é’®ï¼Œè°ƒç”¨æˆ‘ä»¬çš„æ–°å‡½æ•°ï¼Œå¹¶å¯¼èˆªåˆ°ç´¢å¼•è·¯ç”±ã€‚

```js
import { useParams, useNavigate } from 'react-router-dom'
import { getInvoice, deleteInvoice } from '../data'

export default function Invoice() {
  let navigate = useNavigate()
  let location = useLocation()
  let params = useParams()
  let invoice = getInvoice(parseInt(params.invoiceId, 10))

  return (
    <main style={{ padding: '1rem' }}>
      <h2>Total Due: {invoice.amount}</h2>
      <p>
        {invoice.name}: {invoice.number}
      </p>
      <p>Due Date: {invoice.due}</p>
      <p>
        <button
          onClick={() => {
            deleteInvoice(invoice.number)
            navigate('/invoices' + location.search)
          }}
        >
          Delete
        </button>
      </p>
    </main>
  )
}
```

æ³¨æ„æˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº† `useLocation`ï¼Œé€šè¿‡åœ¨å¯¼èˆªé“¾æ¥ä¸­æ·»åŠ  `location.search` æ¥æŒä¹…åŒ–æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚

## è·å¾—å¸®åŠ©

ç¥è´ºä½ !ä½ å·²ç»å®Œæˆäº†æœ¬æ•™ç¨‹çš„å­¦ä¹ ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒèƒ½å¸®åŠ©ä½ æŒæ¡ React Router çš„æ–¹æ³•ã€‚

å¦‚æœä½ æœ‰å›°éš¾ï¼Œè¯·æŸ¥çœ‹[èµ„æº](https://reactrouter.com/resources)é¡µé¢ä»¥è·å¾—å¸®åŠ©ã€‚ç¥æ‚¨å¥½è¿!
